<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>	
	<script src="ScrollMagic.min.js"></script>
	<script src="animation.gsap.min.js"></script>
	<script src="jquery.ScrollMagic.min.js"></script>
</head>
<body>
	<style type="text/css">
	#pinContainer {
		width: 100%;
		height: 100%;
		overflow: hidden;
	}
	.panel {
		height: 100%;
		width: 100%;
		position: absolute;
	}
	.blue {background: blue;}
	.turqoise {background: yellow;}
	.green {background: green;}
	.red {background: red;}
</style>
<div id="main">
	<div id="pinContainer">
		<section class="panel blue">
			<b>ONE</b>
		</section>
		<section class="panel turqoise">
			<b>TWO</b>
		</section>
		<section class="panel green">
			<b>THREE</b>
		</section>
		<section class="panel red">
			<b>FOUR</b>
		</section>
	</div>
</div>
<script>
	$(function () { // wait for document ready
		// init
		var controller = new ScrollMagic.Controller();
		var wh = $(window).height();

		// define movement of panels
		var wipeAnimation = new TimelineMax()
			.fromTo("section#page2", 1, {y: wh}, {y: 0, ease: Linear.easeNone})  // 
			.fromTo("section#page3", 1, {y: 2*wh}, {y: wh, ease: Linear.easeNone})  // 
			.fromTo("section#page4", 1, {y: 3*wh}, {y: 2*wh, ease: Linear.easeNone}); // 

		// create scene to pin and link animation
		new ScrollMagic.Scene({
				triggerElement: "#main",
				triggerHook: "onLeave",
				duration: "300%"
			})
			.setPin("#main")
			.setTween(wipeAnimation)
			//.addIndicators() // add indicators (requires plugin)
			.addTo(controller);
	});
</script>
</body>
</html>